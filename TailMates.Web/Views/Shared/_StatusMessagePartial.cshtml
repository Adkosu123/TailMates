<div class="modal fade" id="statusModal" tabindex="-1" aria-labelledby="statusModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white" id="statusModalHeader">
                <h5 class="modal-title" id="statusModalLabel">Notification</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="statusModalBody">
                {{-- Message will be injected here --}}
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
        var message = '@Html.Raw(TempData["Message"])';
        var messageType = '@TempData["MessageType"]';

        if (message && message !== '') {
            var modalBody = $('#statusModalBody');
            var modalHeader = $('#statusModalHeader');
            var statusModal = new bootstrap.Modal(document.getElementById('statusModal'));

            modalBody.empty();
            modalHeader.removeClass('bg-success bg-danger bg-primary text-white');
            var headerClass = '';

            if (messageType === 'success') {
                headerClass = 'bg-success text-white';
            } else if (messageType === 'error') {
                headerClass = 'bg-danger text-white';
            } else {
                headerClass = 'bg-primary text-white';
            }

            modalHeader.addClass(headerClass);
            modalBody.html('<p class="lead">' + message + '</p>');
            statusModal.show();
        }
    });
</script>